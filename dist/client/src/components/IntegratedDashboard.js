import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState, useEffect } from "react";
import { useQuery } from "@tanstack/react-query";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { useAuth } from "@/hooks/useAuth";
import { TrendingUp, Users, Trophy, Brain, Gamepad2, Shield, Heart, CreditCard, Play, Star, Zap, Target, Crown } from "lucide-react";
export default function IntegratedDashboard() {
    const [activeTab, setActiveTab] = useState("overview");
    const [liveUpdates, setLiveUpdates] = useState([]);
    const { isAuthenticated } = useAuth();
    const { data: metrics, isLoading: metricsLoading } = useQuery({
        queryKey: ["/api/dashboard/metrics"],
        refetchInterval: 30000, // Refresh every 30 seconds
        enabled: isAuthenticated,
    });
    const { data: aiInsights, isLoading: aiLoading } = useQuery({
        queryKey: ["/api/ai/dashboard-insights"],
        enabled: isAuthenticated,
    });
    const { data: socialActivity, isLoading: socialLoading } = useQuery({
        queryKey: ["/api/social/dashboard-activity"],
        enabled: isAuthenticated,
    });
    const { data: vipStatus, isLoading: vipLoading } = useQuery({
        queryKey: ["/api/vip/status"],
        enabled: isAuthenticated,
    });
    const { data: complianceStatus, isLoading: complianceLoading } = useQuery({
        queryKey: ["/api/compliance/status"],
        enabled: isAuthenticated,
    });
    const mockMetrics = {
        totalBets: 247,
        activeBets: 8,
        totalWinnings: 3420.50,
        currentBalance: 1250.75,
        winRate: 67.2,
        socialFollowers: 156,
        vipTier: "Gold",
        responsibleGamingStatus: "Healthy",
        aiRecommendations: 5
    };
    const mockLiveUpdates = [
        {
            id: "1",
            type: "bet_result",
            title: "Bet Won!",
            description: "Chelsea vs Arsenal - Chelsea Win (+$125)",
            timestamp: "2 minutes ago",
            priority: "high"
        },
        {
            id: "2",
            type: "ai_insight",
            title: "AI Recommendation",
            description: "High value bet opportunity detected",
            timestamp: "5 minutes ago",
            priority: "medium"
        },
        {
            id: "3",
            type: "social_activity",
            title: "New Follower",
            description: "SportsBetPro is now following you",
            timestamp: "8 minutes ago",
            priority: "low"
        },
        {
            id: "4",
            type: "vip_reward",
            title: "VIP Bonus",
            description: "Weekly cashback: $45.20 credited",
            timestamp: "1 hour ago",
            priority: "medium"
        }
    ];
    useEffect(() => {
        setLiveUpdates(mockLiveUpdates);
    }, []);
    const getPriorityColor = (priority) => {
        switch (priority) {
            case 'high': return 'text-red-400';
            case 'medium': return 'text-yellow-400';
            default: return 'text-gray-400';
        }
    };
    const getTypeIcon = (type) => {
        switch (type) {
            case 'bet_result': return _jsx(Trophy, { className: "w-4 h-4" });
            case 'ai_insight': return _jsx(Brain, { className: "w-4 h-4" });
            case 'social_activity': return _jsx(Users, { className: "w-4 h-4" });
            case 'vip_reward': return _jsx(Crown, { className: "w-4 h-4" });
            case 'compliance_alert': return _jsx(Shield, { className: "w-4 h-4" });
            default: return _jsx(Zap, { className: "w-4 h-4" });
        }
    };
    return (_jsx("div", { className: "min-h-screen bg-winnex-dark text-white p-6", children: _jsxs("div", { className: "max-w-7xl mx-auto", children: [_jsxs("div", { className: "mb-8", children: [_jsx("h1", { className: "text-4xl font-bold bg-gradient-to-r from-emerald-400 to-cyan-400 bg-clip-text text-transparent", children: "Unified Gaming Dashboard" }), _jsx("p", { className: "text-gray-400 mt-2", children: "Complete overview of your betting, gaming, and social activities" })] }), _jsxs(Tabs, { value: activeTab, onValueChange: setActiveTab, className: "space-y-6", children: [_jsxs(TabsList, { className: "grid w-full grid-cols-5 bg-winnex-gray", children: [_jsxs(TabsTrigger, { value: "overview", className: "flex items-center space-x-2", children: [_jsx(TrendingUp, { className: "w-4 h-4" }), _jsx("span", { children: "Overview" })] }), _jsxs(TabsTrigger, { value: "betting", className: "flex items-center space-x-2", children: [_jsx(Trophy, { className: "w-4 h-4" }), _jsx("span", { children: "Betting" })] }), _jsxs(TabsTrigger, { value: "social", className: "flex items-center space-x-2", children: [_jsx(Users, { className: "w-4 h-4" }), _jsx("span", { children: "Social" })] }), _jsxs(TabsTrigger, { value: "ai", className: "flex items-center space-x-2", children: [_jsx(Brain, { className: "w-4 h-4" }), _jsx("span", { children: "AI Insights" })] }), _jsxs(TabsTrigger, { value: "account", className: "flex items-center space-x-2", children: [_jsx(Shield, { className: "w-4 h-4" }), _jsx("span", { children: "Account" })] })] }), _jsxs(TabsContent, { value: "overview", className: "space-y-6", children: [_jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6", children: [_jsxs(Card, { className: "bg-winnex-gray border-gray-700", children: [_jsxs(CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [_jsx(CardTitle, { className: "text-sm font-medium text-gray-400", children: "Current Balance" }), _jsx(CreditCard, { className: "h-4 w-4 text-emerald-400" })] }), _jsxs(CardContent, { children: [_jsx("div", { className: "text-2xl font-bold text-emerald-400", children: metricsLoading ? "Loading..." : `$${(metrics?.currentBalance || mockMetrics.currentBalance).toFixed(2)}` }), _jsx("p", { className: "text-xs text-gray-400", children: "+12.5% from last week" })] })] }), _jsxs(Card, { className: "bg-winnex-gray border-gray-700", children: [_jsxs(CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [_jsx(CardTitle, { className: "text-sm font-medium text-gray-400", children: "Win Rate" }), _jsx(Target, { className: "h-4 w-4 text-cyan-400" })] }), _jsxs(CardContent, { children: [_jsx("div", { className: "text-2xl font-bold text-cyan-400", children: metricsLoading ? "Loading..." : `${(metrics?.winRate || mockMetrics.winRate).toFixed(1)}%` }), _jsx("p", { className: "text-xs text-gray-400", children: "Above average" })] })] }), _jsxs(Card, { className: "bg-winnex-gray border-gray-700", children: [_jsxs(CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [_jsx(CardTitle, { className: "text-sm font-medium text-gray-400", children: "Active Bets" }), _jsx(Play, { className: "h-4 w-4 text-yellow-400" })] }), _jsxs(CardContent, { children: [_jsx("div", { className: "text-2xl font-bold text-yellow-400", children: metricsLoading ? "Loading..." : (metrics?.activeBets || mockMetrics.activeBets) }), _jsx("p", { className: "text-xs text-gray-400", children: "Total potential: $450" })] })] }), _jsxs(Card, { className: "bg-winnex-gray border-gray-700", children: [_jsxs(CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [_jsx(CardTitle, { className: "text-sm font-medium text-gray-400", children: "VIP Status" }), _jsx(Crown, { className: "h-4 w-4 text-purple-400" })] }), _jsxs(CardContent, { children: [_jsx("div", { className: "text-2xl font-bold text-purple-400", children: vipLoading ? "Loading..." : (vipStatus?.currentTier || mockMetrics.vipTier) }), _jsx("p", { className: "text-xs text-gray-400", children: vipLoading ? "..." : `${vipStatus?.pointsToNext || 2150} points to ${vipStatus?.nextTier || "Platinum"}` })] })] })] }), _jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6", children: [_jsxs(Card, { className: "bg-winnex-gray border-gray-700", children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "flex items-center space-x-2", children: [_jsx(Zap, { className: "w-5 h-5 text-emerald-400" }), _jsx("span", { children: "Live Updates" })] }) }), _jsx(CardContent, { className: "space-y-4 max-h-96 overflow-y-auto", children: liveUpdates.map((update) => (_jsxs("div", { className: "flex items-start space-x-3 p-3 rounded-lg bg-winnex-dark hover:bg-gray-700 transition-colors", children: [_jsx("div", { className: `${getPriorityColor(update.priority)}`, children: getTypeIcon(update.type) }), _jsxs("div", { className: "flex-1 min-w-0", children: [_jsx("p", { className: "text-sm font-medium text-white", children: update.title }), _jsx("p", { className: "text-sm text-gray-400", children: update.description }), _jsx("p", { className: "text-xs text-gray-500", children: update.timestamp })] })] }, update.id))) })] }), _jsxs(Card, { className: "bg-winnex-gray border-gray-700", children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "flex items-center space-x-2", children: [_jsx(Star, { className: "w-5 h-5 text-cyan-400" }), _jsx("span", { children: "Quick Actions" })] }) }), _jsxs(CardContent, { className: "space-y-4", children: [_jsxs("div", { className: "grid grid-cols-2 gap-4", children: [_jsxs(Button, { className: "h-16 flex flex-col items-center justify-center space-y-2 bg-emerald-600 hover:bg-emerald-700", children: [_jsx(Trophy, { className: "w-6 h-6" }), _jsx("span", { className: "text-sm", children: "Place Bet" })] }), _jsxs(Button, { className: "h-16 flex flex-col items-center justify-center space-y-2 bg-cyan-600 hover:bg-cyan-700", children: [_jsx(Brain, { className: "w-6 h-6" }), _jsx("span", { className: "text-sm", children: "AI Insights" })] }), _jsxs(Button, { className: "h-16 flex flex-col items-center justify-center space-y-2 bg-purple-600 hover:bg-purple-700", children: [_jsx(Users, { className: "w-6 h-6" }), _jsx("span", { className: "text-sm", children: "Social Hub" })] }), _jsxs(Button, { className: "h-16 flex flex-col items-center justify-center space-y-2 bg-yellow-600 hover:bg-yellow-700", children: [_jsx(Gamepad2, { className: "w-6 h-6" }), _jsx("span", { className: "text-sm", children: "Casino" })] })] }), _jsxs("div", { className: "pt-4 border-t border-gray-600", children: [_jsx("h4", { className: "text-sm font-medium text-gray-400 mb-3", children: "Responsible Gaming" }), _jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-sm text-gray-300", children: "Daily Limit Used" }), _jsx(Badge, { variant: "outline", className: "text-green-400 border-green-400", children: "Safe: 15%" })] })] })] })] })] })] }), _jsx(TabsContent, { value: "betting", children: _jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6", children: [_jsxs(Card, { className: "bg-winnex-gray border-gray-700", children: [_jsx(CardHeader, { children: _jsx(CardTitle, { children: "Betting Performance" }) }), _jsx(CardContent, { children: _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { className: "flex justify-between items-center", children: [_jsx("span", { className: "text-gray-400", children: "Total Bets" }), _jsx("span", { className: "font-bold", children: mockMetrics.totalBets })] }), _jsxs("div", { className: "flex justify-between items-center", children: [_jsx("span", { className: "text-gray-400", children: "Win Rate" }), _jsxs("span", { className: "font-bold text-emerald-400", children: [mockMetrics.winRate, "%"] })] }), _jsxs("div", { className: "flex justify-between items-center", children: [_jsx("span", { className: "text-gray-400", children: "Total Winnings" }), _jsxs("span", { className: "font-bold text-emerald-400", children: ["$", mockMetrics.totalWinnings] })] }), _jsxs("div", { className: "flex justify-between items-center", children: [_jsx("span", { className: "text-gray-400", children: "Active Bets" }), _jsx(Badge, { className: "bg-yellow-600", children: mockMetrics.activeBets })] })] }) })] }), _jsxs(Card, { className: "bg-winnex-gray border-gray-700", children: [_jsx(CardHeader, { children: _jsx(CardTitle, { children: "Recent Activity" }) }), _jsx(CardContent, { children: _jsxs("div", { className: "space-y-3", children: [_jsxs("div", { className: "flex items-center justify-between p-3 rounded-lg bg-winnex-dark", children: [_jsxs("div", { children: [_jsx("p", { className: "font-medium", children: "Lakers vs Celtics" }), _jsx("p", { className: "text-sm text-gray-400", children: "Over 215.5 Points" })] }), _jsx(Badge, { className: "bg-green-600", children: "Won +$50" })] }), _jsxs("div", { className: "flex items-center justify-between p-3 rounded-lg bg-winnex-dark", children: [_jsxs("div", { children: [_jsx("p", { className: "font-medium", children: "Arsenal vs Chelsea" }), _jsx("p", { className: "text-sm text-gray-400", children: "Arsenal Win" })] }), _jsx(Badge, { className: "bg-yellow-600", children: "Live" })] }), _jsxs("div", { className: "flex items-center justify-between p-3 rounded-lg bg-winnex-dark", children: [_jsxs("div", { children: [_jsx("p", { className: "font-medium", children: "Chiefs vs Bills" }), _jsx("p", { className: "text-sm text-gray-400", children: "Chiefs -3.5" })] }), _jsx(Badge, { className: "bg-red-600", children: "Lost -$25" })] })] }) })] })] }) }), _jsx(TabsContent, { value: "social", children: _jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6", children: [_jsxs(Card, { className: "bg-winnex-gray border-gray-700", children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "flex items-center space-x-2", children: [_jsx(Users, { className: "w-5 h-5" }), _jsx("span", { children: "Social Stats" })] }) }), _jsx(CardContent, { children: _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { className: "flex justify-between items-center", children: [_jsx("span", { className: "text-gray-400", children: "Followers" }), _jsx("span", { className: "font-bold", children: mockMetrics.socialFollowers })] }), _jsxs("div", { className: "flex justify-between items-center", children: [_jsx("span", { className: "text-gray-400", children: "Following" }), _jsx("span", { className: "font-bold", children: "89" })] }), _jsxs("div", { className: "flex justify-between items-center", children: [_jsx("span", { className: "text-gray-400", children: "Tips Shared" }), _jsx("span", { className: "font-bold", children: "23" })] }), _jsxs("div", { className: "flex justify-between items-center", children: [_jsx("span", { className: "text-gray-400", children: "Community Rank" }), _jsx(Badge, { className: "bg-purple-600", children: "#47" })] })] }) })] }), _jsxs(Card, { className: "bg-winnex-gray border-gray-700", children: [_jsx(CardHeader, { children: _jsx(CardTitle, { children: "Community Feed" }) }), _jsx(CardContent, { children: _jsxs("div", { className: "space-y-3", children: [_jsxs("div", { className: "flex items-start space-x-3 p-3 rounded-lg bg-winnex-dark", children: [_jsx("div", { className: "w-8 h-8 bg-emerald-600 rounded-full flex items-center justify-center", children: _jsx("span", { className: "text-xs font-bold", children: "JP" }) }), _jsxs("div", { children: [_jsxs("p", { className: "text-sm", children: [_jsx("span", { className: "font-medium", children: "@johnpro" }), " shared a tip"] }), _jsx("p", { className: "text-xs text-gray-400", children: "Lakers +2.5 looks good tonight" })] })] }), _jsxs("div", { className: "flex items-start space-x-3 p-3 rounded-lg bg-winnex-dark", children: [_jsx("div", { className: "w-8 h-8 bg-cyan-600 rounded-full flex items-center justify-center", children: _jsx("span", { className: "text-xs font-bold", children: "SA" }) }), _jsxs("div", { children: [_jsxs("p", { className: "text-sm", children: [_jsx("span", { className: "font-medium", children: "@sportsace" }), " started following you"] }), _jsx("p", { className: "text-xs text-gray-400", children: "5 minutes ago" })] })] })] }) })] })] }) }), _jsx(TabsContent, { value: "ai", children: _jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6", children: [_jsxs(Card, { className: "bg-winnex-gray border-gray-700", children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "flex items-center space-x-2", children: [_jsx(Brain, { className: "w-5 h-5" }), _jsx("span", { children: "AI Recommendations" })] }) }), _jsx(CardContent, { children: _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { className: "p-4 rounded-lg bg-emerald-600/20 border border-emerald-600/30", children: [_jsxs("div", { className: "flex items-center justify-between mb-2", children: [_jsx("span", { className: "font-medium text-emerald-400", children: "High Value Bet" }), _jsx(Badge, { className: "bg-emerald-600", children: "95% Confidence" })] }), _jsx("p", { className: "text-sm text-gray-300", children: "Lakers vs Celtics - Over 215.5" }), _jsx("p", { className: "text-xs text-gray-400", children: "Expected value: +18.5%" })] }), _jsxs("div", { className: "p-4 rounded-lg bg-yellow-600/20 border border-yellow-600/30", children: [_jsxs("div", { className: "flex items-center justify-between mb-2", children: [_jsx("span", { className: "font-medium text-yellow-400", children: "Market Inefficiency" }), _jsx(Badge, { className: "bg-yellow-600", children: "82% Confidence" })] }), _jsx("p", { className: "text-sm text-gray-300", children: "Arsenal Draw vs Chelsea" }), _jsx("p", { className: "text-xs text-gray-400", children: "Overvalued by 12%" })] }), _jsxs("div", { className: "p-4 rounded-lg bg-cyan-600/20 border border-cyan-600/30", children: [_jsxs("div", { className: "flex items-center justify-between mb-2", children: [_jsx("span", { className: "font-medium text-cyan-400", children: "Bankroll Alert" }), _jsx(Badge, { className: "bg-cyan-600", children: "Advisory" })] }), _jsx("p", { className: "text-sm text-gray-300", children: "Consider reducing bet sizes" }), _jsx("p", { className: "text-xs text-gray-400", children: "Current streak: 3 losses" })] })] }) })] }), _jsxs(Card, { className: "bg-winnex-gray border-gray-700", children: [_jsx(CardHeader, { children: _jsx(CardTitle, { children: "Predictive Analysis" }) }), _jsx(CardContent, { children: _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { children: [_jsxs("div", { className: "flex justify-between mb-2", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Win Probability This Week" }), _jsx("span", { className: "text-sm font-medium", children: "73%" })] }), _jsx("div", { className: "w-full bg-gray-700 rounded-full h-2", children: _jsx("div", { className: "bg-emerald-600 h-2 rounded-full", style: { width: '73%' } }) })] }), _jsxs("div", { children: [_jsxs("div", { className: "flex justify-between mb-2", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Optimal Bet Size" }), _jsx("span", { className: "text-sm font-medium", children: "$45-65" })] }), _jsx("div", { className: "w-full bg-gray-700 rounded-full h-2", children: _jsx("div", { className: "bg-cyan-600 h-2 rounded-full", style: { width: '55%' } }) })] }), _jsxs("div", { children: [_jsxs("div", { className: "flex justify-between mb-2", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Risk Score" }), _jsx("span", { className: "text-sm font-medium", children: "Low" })] }), _jsx("div", { className: "w-full bg-gray-700 rounded-full h-2", children: _jsx("div", { className: "bg-green-600 h-2 rounded-full", style: { width: '25%' } }) })] })] }) })] })] }) }), _jsx(TabsContent, { value: "account", children: _jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6", children: [_jsxs(Card, { className: "bg-winnex-gray border-gray-700", children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "flex items-center space-x-2", children: [_jsx(Shield, { className: "w-5 h-5" }), _jsx("span", { children: "Compliance Status" })] }) }), _jsx(CardContent, { children: _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-gray-400", children: "KYC Verification" }), _jsx(Badge, { className: "bg-green-600", children: "Verified" })] }), _jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-gray-400", children: "Document Status" }), _jsx(Badge, { className: "bg-green-600", children: "Complete" })] }), _jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-gray-400", children: "AML Check" }), _jsx(Badge, { className: "bg-green-600", children: "Passed" })] }), _jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-gray-400", children: "Account Level" }), _jsx(Badge, { className: "bg-purple-600", children: "Premium" })] })] }) })] }), _jsxs(Card, { className: "bg-winnex-gray border-gray-700", children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "flex items-center space-x-2", children: [_jsx(Heart, { className: "w-5 h-5" }), _jsx("span", { children: "Responsible Gaming" })] }) }), _jsx(CardContent, { children: _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { children: [_jsxs("div", { className: "flex justify-between mb-2", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Daily Limit" }), _jsx("span", { className: "text-sm font-medium", children: "$75 / $500" })] }), _jsx("div", { className: "w-full bg-gray-700 rounded-full h-2", children: _jsx("div", { className: "bg-green-600 h-2 rounded-full", style: { width: '15%' } }) })] }), _jsxs("div", { children: [_jsxs("div", { className: "flex justify-between mb-2", children: [_jsx("span", { className: "text-sm text-gray-400", children: "Session Time" }), _jsx("span", { className: "text-sm font-medium", children: "45 min / 4 hrs" })] }), _jsx("div", { className: "w-full bg-gray-700 rounded-full h-2", children: _jsx("div", { className: "bg-yellow-600 h-2 rounded-full", style: { width: '18%' } }) })] }), _jsx("div", { className: "pt-2 border-t border-gray-600", children: _jsxs("div", { className: "flex items-center justify-between", children: [_jsx("span", { className: "text-gray-400", children: "Wellness Status" }), _jsx(Badge, { className: "bg-green-600", children: "Healthy" })] }) })] }) })] })] }) })] })] }) }));
}
